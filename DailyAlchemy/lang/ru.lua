------------------------------------------------
-- Russian localization for DailyAlchemy
------------------------------------------------

ZO_CreateStringId("DA_CRAFTING_QUEST",      "Заказ для алхимиков")         -- [ru.lang.csv] "52420949","0","5415","xxxxxxxx"
ZO_CreateStringId("DA_CRAFTING_MASTER",     "Мастерский отвар")              -- [ru.lang.csv] "52420949","0","5980","xxxxxxxx"
ZO_CreateStringId("DA_CRAFTING_WITCH",      "Заказ Праздника ведьм")     -- [ru.lang.csv] "52420949","0","6427","xxxxxxxx"

ZO_CreateStringId("DA_BULK_HEADER",         "Массовое создание")
ZO_CreateStringId("DA_BULK_FLG",            "Создаёт все необходимые предметы за раз")
ZO_CreateStringId("DA_BULK_FLG_TOOLTIP",    "Используется, если вы хотите создать несколько требуемых предметов.")
ZO_CreateStringId("DA_BULK_COUNT",          "Количество")
ZO_CreateStringId("DA_BULK_COUNT_TOOLTIP",  "На самом деле, будет создано больше, чем указанное число. (Зависит от навыков алхимии)")

ZO_CreateStringId("DA_CRAFT_WRIT",          "Ремесло Запечатанная заказ")
ZO_CreateStringId("DA_CRAFT_WRIT_MSG",      "При доступе Алхимическая станция, <<1>>")
ZO_CreateStringId("DA_CANCEL_WRIT",         "Отменить Запечатанная заказ")
ZO_CreateStringId("DA_CANCEL_WRIT_MSG",     "Отменено Запечатанная заказ")

ZO_CreateStringId("DA_PRIORITY_HEADER",     "Приоритет реагента")
ZO_CreateStringId("DA_PRIORITY_BY",         "Использование реагента по приоритету")
ZO_CreateStringId("DA_PRIORITY_BY_STOCK",   "По количеству")
ZO_CreateStringId("DA_PRIORITY_BY_MM",      "По низкой цене [MasterMerchant]")
ZO_CreateStringId("DA_PRIORITY_BY_TTC",     "По низкой цене [TamrielTradeCentre]")
ZO_CreateStringId("DA_PRIORITY_BY_ATT",     "По низкой цене [ArkadiusTradeTools]")
ZO_CreateStringId("DA_PRIORITY_BY_MANUAL",  "Задано вручную")
ZO_CreateStringId("DA_SHOW_PRICE_MANUAL",   "Показать цену[<<1>>]")
ZO_CreateStringId("DA_PRIORITY_CHANGED",    "Настройка аддона [<<1>>] была изменена, так как <<2>> выключен")  

ZO_CreateStringId("DA_OTHER_HEADER",        "Другое")
ZO_CreateStringId("DA_ACQUIRE_ITEM",        "Забирать предметы из банка")
ZO_CreateStringId("DA_DELAY",               "Время задержки")
ZO_CreateStringId("DA_DELAY_TOOLTIP",       "Время задержки для получения предмета (секунды)\nЕсли не получается достать предмет, увеличьте его.")
ZO_CreateStringId("DA_AUTO_EXIT",           "Автовыход из окна крафта")
ZO_CreateStringId("DA_AUTO_EXIT_TOOLTIP",   "Автоматически закрывает окна крафта по выполнению задания")
ZO_CreateStringId("DA_ITEM_LOCK",           "Не используйте заблокированные предметы")
ZO_CreateStringId("DA_LOG",                 "Показать журнал")
ZO_CreateStringId("DA_DEBUG_LOG",           "Показать журнал отладки")

ZO_CreateStringId("DA_NOTHING_ITEM",        "Нет нужных предметов: (<<1>>)")
ZO_CreateStringId("DA_SHORT_OF",            "... Не хватает реагентов: (<<1>>)")
ZO_CreateStringId("DA_MISMATCH_ITEM",       "... [Ошибка] Имя не совпадает: (<<1>>)")

ZO_CreateStringId("DA_HEALTH",              "Восстановление здоровья")                                -- Restore Health        [ru.lang.csv] "156152165","0","1","xxxxxxxx"
ZO_CreateStringId("DA_RVG_HEALTH",          "Опустошение здоровья")                                      -- Ravage Health         [ru.lang.csv] "156152165","0","2","xxxxxxxx"
ZO_CreateStringId("DA_MAGICKA",             "Восстановление магии")                                      -- Restore Magicka       [ru.lang.csv] "156152165","0","3","xxxxxxxx"
ZO_CreateStringId("DA_RVG_MAGICKA",         "Опустошение магии")                                            -- Ravage Magicka        [ru.lang.csv] "156152165","0","4","xxxxxxxx"
ZO_CreateStringId("DA_STAMINA",             "Восстановление запаса сил")                             -- Restore Stamina       [ru.lang.csv] "156152165","0","5","xxxxxxxx"
ZO_CreateStringId("DA_RVG_STAMINA",         "Опустошение запаса сил")                                   -- Ravage Stamina        [ru.lang.csv] "156152165","0","6","xxxxxxxx"
ZO_CreateStringId("DA_SPELL_RESIST",        "Увеличение магической сопротивляемости")   -- Increase Spell Resist [ru.lang.csv] "156152165","0","7","xxxxxxxx"
ZO_CreateStringId("DA_BREACH",              "Прорыв")                                                                 -- Breach                [ru.lang.csv] "156152165","0","8","xxxxxxxx"
ZO_CreateStringId("DA_ARMOR",               "Увеличение показателя брони")                         -- Increase Armor        [ru.lang.csv] "156152165","0","9","xxxxxxxx"
ZO_CreateStringId("DA_FRACTURE",            "Перелом")                                                               -- Fracture              [ru.lang.csv] "156152165","0","10","xxxxxxxx"
ZO_CreateStringId("DA_SPELL_POWER",         "Увеличение силы заклинаний")                           -- Increase Spell Power  [ru.lang.csv] "156152165","0","11","xxxxxxxx"
ZO_CreateStringId("DA_COWARDICE",           "Трусость")                                                             -- Cowardice             [ru.lang.csv] "156152165","0","12","xxxxxxxx"
ZO_CreateStringId("DA_WEAPON_POWER",        "Увеличение силы оружия")                                   -- Increase Weapon Power [ru.lang.csv] "156152165","0","13","xxxxxxxx"
ZO_CreateStringId("DA_MAIM",                "Повреждение")                                                       -- Maim                  [ru.lang.csv] "156152165","0","14","xxxxxxxx"
ZO_CreateStringId("DA_SPELL_CRIT",          "Крит. рейтинг заклинаний")                                -- Spell Critical        [ru.lang.csv] "156152165","0","15","xxxxxxxx"
ZO_CreateStringId("DA_UNCERTAINTY",         "Неуверенность")                                                   -- Uncertainty           [ru.lang.csv] "156152165","0","16","xxxxxxxx"
ZO_CreateStringId("DA_WEAPON_CRIT",         "Крит. рейтинг оружия")                                        -- Weapon Critical       [ru.lang.csv] "156152165","0","17","xxxxxxxx"
ZO_CreateStringId("DA_ENERVATE",            "Бессилие")                                                             -- Enervation            [ru.lang.csv] "156152165","0","18","xxxxxxxx"
ZO_CreateStringId("DA_UNSTOP",              "Неудержимость")                                                   -- Unstoppable           [ru.lang.csv] "156152165","0","19","xxxxxxxx"
ZO_CreateStringId("DA_ENTRAPMENT",          "Захват")                                                                 -- Entrapment            [ru.lang.csv] "156152165","0","20","xxxxxxxx"
ZO_CreateStringId("DA_DETECTION",           "Обнаружение")                                                       -- Detection             [ru.lang.csv] "156152165","0","21","xxxxxxxx"
ZO_CreateStringId("DA_INVISIBLE",           "Невидимость")                                                       -- Invisible             [ru.lang.csv] "156152165","0","22","xxxxxxxx"
ZO_CreateStringId("DA_SPEED",               "Скорость")                                                             -- Speed                 [ru.lang.csv] "156152165","0","23","xxxxxxxx"
ZO_CreateStringId("DA_HINDRANCE",           "Замедление")                                                         -- Hindrance             [ru.lang.csv] "156152165","0","24","xxxxxxxx"
ZO_CreateStringId("DA_PROTECTION",          "Защита")                                                                 -- Protection            [ru.lang.csv] "156152165","0","25","xxxxxxxx"
ZO_CreateStringId("DA_VULNERABILITY",       "Уязвимость")                                                         -- Vulnerability         [ru.lang.csv] "156152165","0","26","xxxxxxxx"
ZO_CreateStringId("DA_LGR_HEALTH",          "Длительное исцеление")                                      -- Lingering Health      [ru.lang.csv] "156152165","0","27","xxxxxxxx"
ZO_CreateStringId("DA_GR_RVG_HEALTH",       "Постепенное опустошение здоровья")               -- Gradual Ravage Health [ru.lang.csv] "156152165","0","28","xxxxxxxx"
ZO_CreateStringId("DA_VITALITY",            "Живучесть")                                                           -- Vitality              [ru.lang.csv] "156152165","0","29","xxxxxxxx"
ZO_CreateStringId("DA_DEFILE",              "Осквернение")                                                       -- Defile                [ru.lang.csv] "156152165","0","30","xxxxxxxx"
ZO_CreateStringId("DA_HEROISM",             "Героизм")                                                               -- Heroism               [ru.lang.csv] "156152165","0","31","xxxxxxxx"
ZO_CreateStringId("DA_TIMIDITY",            "Трусливость")                                                       -- Timidity              [ru.lang.csv] "156152165","0","32","xxxxxxxx"




function DailyAlchemy:AcquireConditions()
    local list = {
        "Добыть%s.*%[(.*)%]",
        "Добыть%s(.*)",
        "Раздобыть — (.*)",
        "Раздобыть%s(.*)",
        "Достать%s(.*)",
    }
    return list
end

function DailyAlchemy:ConvertedItemNames(itemName)
    local list = {
        {"%-",     " "},
        {"%^.*",   ""},
        {" IX$",   " Ⅸ"},
        {" VIII$", " Ⅷ"},
        {" VII$",  " Ⅶ"},
        {" VI$",   " Ⅵ"},
        {" IV$",   " Ⅳ"},
        {" V$",    " Ⅴ"},
        {" III$",  " Ⅲ"},
        {" II$",   " Ⅱ"},
        {" I$",    " Ⅰ"},
    }


    local convertedItemName = itemName
    for _, value in ipairs(list) do
        convertedItemName = string.gsub(convertedItemName, value[1], value[2])
    end

    local convertedItemName2 = convertedItemName
    local list2 = {
        {"([^%s]+)ная([%s%]])",    "%1ную%2"},
        {"([^%s]+)тая([%s%]])",    "%1тую%2"},
        {"([^%s]+)цея([%s%]])",    "%1цею%2"},
        {"([^%s]+)ция([%s%]])",    "%1цию%2"},

        {"([^%s]+)хма([%s%]])",    "%1хму%2"},
        {"([^%s]+)ода([%s%]])",    "%1оду%2"},
        {"([^%s]+)ода$",           "%1оду"},

        ---[Trait]---------------------------------------------------------------------------------------------------------------------
        {"Увеличение магической сопротивляемости", -- [ru.lang.csv] "156152165","0","7","xxxxxxxx"
         "Увеличение магической сопротив"}, 

        ---[Poison]---------------------------------------------------------------------------------------------------------------------
        -- [ru.lang.csv] "7949764","0","56972","xxxxxxxx","Создать яд высасывания здоровья IX"
        -- [ru.lang.csv] "242841733","0","76826","xxxxxxxx","Яд высасывания здоровья"
        {"Яд высасывания здоровья",
         "яд поглощения здоровья"},

        -- [ru.lang.csv] "7949764","0","56975","xxxxxxxx","Создать яд упадка сил IX"
        -- [ru.lang.csv] "242841733","0","76831","xxxxxxxx","Яд урона запасу сил"
        {"Яд урона запасу сил",
         "яд упадка сил"},

        -- [ru.lang.csv] "7949764","0","56978","xxxxxxxx","Создать яд антимагии IX"
        -- [ru.lang.csv] "242841733","0","76829","xxxxxxxx","Яд урона магии"
        {"Яд урона магии",
         "яд антимагии"},

        -- [ru.lang.csv] "7949764","0","56981","xxxxxxxx","Создать яд нездоровья IX"
        -- [ru.lang.csv] "242841733","0","76827","xxxxxxxx","Яд урона здоровью"
        {"Яд урона здоровью",
         "яд нездоровья"},

    }
    for _, value in ipairs(list2) do
        convertedItemName2 = string.gsub(convertedItemName2, value[1], value[2])
    end

    if convertedItemName == convertedItemName2 then
        return {convertedItemName}
    else
        return {convertedItemName, convertedItemName2}
    end
end

function DailyAlchemy:ConvertedJournalCondition(journalCondition)
    local list = {
        {"%-",      " "},
        {"%^.*",    ""},
        {" ",       " "}, -- NO-BREAK SPACE(U+00A0) to SPACE (U+0020)
        {"—",       " "},
        {"  ",      " "},
        {" IX([):%s])",   " Ⅸ%1"},
        {" VIII([):%s])", " Ⅷ%1"},
        {" VII([):%s])",  " Ⅶ%1"},
        {" VI([):%s])",   " Ⅵ%1"},
        {" IV([):%s])",   " Ⅳ%1"},
        {" V([):%s])",    " Ⅴ%1"},
        {" III([):%s])",  " Ⅲ%1"},
        {" II([):%s])",   " Ⅱ%1"},
        {" I([):%s])",    " Ⅰ%1"},
        {".* предмет %((.*)%) со .*%c• (.*)%c• (.*)%c• (.*)%c%c.*",    "Создать предмет |c88AAFF[%1]|r|cFFFFFF...%2, %3, %4|r"}, -- SI_MASTER_WRIT_QUEST_ALCHEMY_FORMAT_STRING
        {".* предмета %((.*)%) со .*%c• (.*)%c• (.*)%c• (.*)",        "Создать предмет |c88AAFF[%1]|r|cFFFFFF...%2, %3, %4|r"}, -- SI_MASTER_WRIT_ITEM_ALCHEMY_FORMAT_STRING
        {"Создать (.*) [:：].*",                                         "Создать |c88AAFF[%1]|r"}, 
        {"Создать (.*)[:：].*",                                          "Создать |c88AAFF[%1]|r"}, 
        {"Добыть (.*)%s?[:：].*",                                         "Добыть |c88AAFF[%1]|r"}, 
    }
    local convertedCondition = journalCondition
    for _, value in ipairs(list) do
        convertedCondition = string.gsub(convertedCondition, value[1], value[2])
    end
    return convertedCondition
end

function DailyAlchemy:CraftingConditions()
    local list = {
        "Создать",
    }
    return list
end

function DailyAlchemy:isPoison(conditionText)
    local list = {
        "Яд",
        "яд",
    }
    for _, value in ipairs(list) do
        if string.match(conditionText, value) then
            return true
        end
    end
    return false
end

function DailyAlchemy:isAlchemy(journalCondition)
    return string.match(journalCondition, "Создать предмет .* со следующими эффектами") -- SI_MASTER_WRIT_QUEST_ALCHEMY_FORMAT_STRING
end

