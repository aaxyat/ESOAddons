------------------------------------------------
-- Japanese localization for DailyAlchemy
------------------------------------------------

ZO_CreateStringId("DA_CRAFTING_QUEST",      "Encargo de alquimia")                  -- [es.lang.csv] "52420949","0","5415","xxxxxxxx"
ZO_CreateStringId("DA_CRAFTING_MASTER",     "Un brebaje magistral")                 -- [es.lang.csv] "52420949","0","5980","xxxxxxxx"
ZO_CreateStringId("DA_CRAFTING_WITCH",      "Encargo del Festival de las Brujas")   -- [es.lang.csv] "52420949","0","6427","xxxxxxxx"

ZO_CreateStringId("DA_BULK_HEADER",         "Bulk Creation")
ZO_CreateStringId("DA_BULK_FLG",            "Create all the requested items at once")
ZO_CreateStringId("DA_BULK_FLG_TOOLTIP",    "It is used when you want to create a large number of requested items.")
ZO_CreateStringId("DA_BULK_COUNT",          "Created quantity")
ZO_CreateStringId("DA_BULK_COUNT_TOOLTIP",  "In fact it will be created more than this quantity.(Depends on alchemy skills)")

ZO_CreateStringId("DA_CRAFT_WRIT",          "Craft Sealed Writ")
ZO_CreateStringId("DA_CRAFT_WRIT_MSG",      "When accessing the alchemy station, <<1>>")
ZO_CreateStringId("DA_CANCEL_WRIT",         "Cancel Sealed Writ")
ZO_CreateStringId("DA_CANCEL_WRIT_MSG",     "Canceled Sealed Writ")

ZO_CreateStringId("DA_PRIORITY_HEADER",     "Reagent priority")
ZO_CreateStringId("DA_PRIORITY_BY",         "Priority of reagent to be used")
ZO_CreateStringId("DA_PRIORITY_BY_STOCK",   "Many stocks")
ZO_CreateStringId("DA_PRIORITY_BY_MM",      "Low price reagent at [MasterMerchant]")
ZO_CreateStringId("DA_PRIORITY_BY_TTC",     "Low price reagent at [TamrielTradeCentre]")
ZO_CreateStringId("DA_PRIORITY_BY_ATT",     "Low price reagent at [ArkadiusTradeTools]")
ZO_CreateStringId("DA_PRIORITY_BY_MANUAL",  "Set manually")
ZO_CreateStringId("DA_SHOW_PRICE_MANUAL",   "Show price[<<1>>]")
ZO_CreateStringId("DA_PRIORITY_CHANGED",    "The add-on setting [<<1>>] has been changed because the <<2>> is turned off")

ZO_CreateStringId("DA_OTHER_HEADER",        "Other")
ZO_CreateStringId("DA_ACQUIRE_ITEM",        "Retrieve items from bank")
ZO_CreateStringId("DA_DELAY",               "Delay time")
ZO_CreateStringId("DA_DELAY_TOOLTIP",       "Delay time to retrieve item(sec)\nIf you cannot take out the item well, increase it.")
ZO_CreateStringId("DA_AUTO_EXIT",           "Auto exit")
ZO_CreateStringId("DA_AUTO_EXIT_TOOLTIP",   "You will automatically leave the crafting table after completing the daily writ.")
ZO_CreateStringId("DA_ITEM_LOCK",           "Do not use locked items")
ZO_CreateStringId("DA_LOG",                 "Show log")
ZO_CreateStringId("DA_DEBUG_LOG",           "Show debug log")

ZO_CreateStringId("DA_NOTHING_ITEM",        "No items in the backpack (<<1>>)")
ZO_CreateStringId("DA_SHORT_OF",            "... Short of Materials(<<1>>)")
ZO_CreateStringId("DA_MISMATCH_ITEM",       "... [Error]Name does not match (<<1>>)")

ZO_CreateStringId("DA_HEALTH",              "Restauración de salud")                -- Restore Health        [es.lang.csv] "156152165","0","1","xxxxxxxx"
ZO_CreateStringId("DA_RVG_HEALTH",          "Reducción de salud")                   -- Ravage Health         [es.lang.csv] "156152165","0","2","xxxxxxxx"
ZO_CreateStringId("DA_MAGICKA",             "Restauración de magia")                -- Restore Magicka       [es.lang.csv] "156152165","0","3","xxxxxxxx"
ZO_CreateStringId("DA_RVG_MAGICKA",         "Reducción de magia")                   -- Ravage Magicka        [es.lang.csv] "156152165","0","4","xxxxxxxx"
ZO_CreateStringId("DA_STAMINA",             "Restauración de aguante")              -- Restore Stamina       [es.lang.csv] "156152165","0","5","xxxxxxxx"
ZO_CreateStringId("DA_RVG_STAMINA",         "Reducción de aguante")                 -- Ravage Stamina        [es.lang.csv] "156152165","0","6","xxxxxxxx"
ZO_CreateStringId("DA_SPELL_RESIST",        "Aumento de resistencia a hechizos")    -- Increase Spell Resist [es.lang.csv] "156152165","0","7","xxxxxxxx"
ZO_CreateStringId("DA_BREACH",              "Fisura")                               -- Breach                [es.lang.csv] "156152165","0","8","xxxxxxxx"
ZO_CreateStringId("DA_ARMOR",               "Aumento de armadura")                  -- Increase Armor        [es.lang.csv] "156152165","0","9","xxxxxxxx"
ZO_CreateStringId("DA_FRACTURE",            "Fractura")                             -- Fracture              [es.lang.csv] "156152165","0","10","xxxxxxxx"
ZO_CreateStringId("DA_SPELL_POWER",         "Aumento de potencia mágica")           -- Increase Spell Power  [es.lang.csv] "156152165","0","11","xxxxxxxx"
ZO_CreateStringId("DA_COWARDICE",           "Cobardía")                             -- Cowardice             [es.lang.csv] "156152165","0","12","xxxxxxxx"
ZO_CreateStringId("DA_WEAPON_POWER",        "Aumento del poder físico")             -- Increase Weapon Power [es.lang.csv] "156152165","0","13","xxxxxxxx"
ZO_CreateStringId("DA_MAIM",                "Mutilación")                           -- Maim                  [es.lang.csv] "156152165","0","14","xxxxxxxx"
ZO_CreateStringId("DA_SPELL_CRIT",          "Crítico mágico")                       -- Spell Critical        [es.lang.csv] "156152165","0","15","xxxxxxxx"
ZO_CreateStringId("DA_UNCERTAINTY",         "Incertidumbre")                        -- Uncertainty           [es.lang.csv] "156152165","0","16","xxxxxxxx"
ZO_CreateStringId("DA_WEAPON_CRIT",         "Crítico físico")                       -- Weapon Critical       [es.lang.csv] "156152165","0","17","xxxxxxxx"
ZO_CreateStringId("DA_ENERVATE",            "Enervación")                           -- Enervation            [es.lang.csv] "156152165","0","18","xxxxxxxx"
ZO_CreateStringId("DA_UNSTOP",              "Imparable")                            -- Unstoppable           [es.lang.csv] "156152165","0","19","xxxxxxxx"
ZO_CreateStringId("DA_ENTRAPMENT",          "Captura")                              -- Entrapment            [es.lang.csv] "156152165","0","20","xxxxxxxx"
ZO_CreateStringId("DA_DETECTION",           "Detección")                            -- Detection             [es.lang.csv] "156152165","0","21","xxxxxxxx"
ZO_CreateStringId("DA_INVISIBLE",           "Invisible")                            -- Invisible             [es.lang.csv] "156152165","0","22","xxxxxxxx"
ZO_CreateStringId("DA_SPEED",               "Velocidad")                            -- Speed                 [es.lang.csv] "156152165","0","23","xxxxxxxx"
ZO_CreateStringId("DA_HINDRANCE",           "Torpeza")                              -- Hindrance             [es.lang.csv] "156152165","0","24","xxxxxxxx"
ZO_CreateStringId("DA_PROTECTION",          "Protección")                           -- Protection            [es.lang.csv] "156152165","0","25","xxxxxxxx"
ZO_CreateStringId("DA_VULNERABILITY",       "Vulnerabilidad")                       -- Vulnerability         [es.lang.csv] "156152165","0","26","xxxxxxxx"
ZO_CreateStringId("DA_LGR_HEALTH",          "Salud prolongada")                     -- Lingering Health      [es.lang.csv] "156152165","0","27","xxxxxxxx"
ZO_CreateStringId("DA_GR_RVG_HEALTH",       "Deterioro de salud gradual")           -- Gradual Ravage Health [es.lang.csv] "156152165","0","28","xxxxxxxx"
ZO_CreateStringId("DA_VITALITY",            "Vitalidad")                            -- Vitality              [es.lang.csv] "156152165","0","29","xxxxxxxx"
ZO_CreateStringId("DA_DEFILE",              "Profanación")                          -- Defile                [es.lang.csv] "156152165","0","30","xxxxxxxx"
ZO_CreateStringId("DA_HEROISM",             "Heroísmo")                             -- Heroism               [es.lang.csv] "156152165","0","31","xxxxxxxx"
ZO_CreateStringId("DA_TIMIDITY",            "Timidez")                              -- Timidity              [es.lang.csv] "156152165","0","32","xxxxxxxx"




function DailyAlchemy:AcquireConditions()
    local list = {
        "Consigue.*%[(.*)%]",
        "Consigue(.*)",
    }
    return list
end

function DailyAlchemy:ConvertedItemNames(itemName)
    local list = {
        {" ",    " "},   -- code(0xA0) > space(0x20): HTML non-breaking space ?("0xC2 0xA0")
        {"%^.*", ""},
        {"á",  "a"},
        {"é",  "e"},
        {"ñ",  "n"},
        {"ó",  "o"},
        {" IX$",     " Ⅸ"},
        {" VIII$",   " Ⅷ"},
        {" VII$",    " Ⅶ"},
        {" VI$",     " Ⅵ"},
        {" IV$",     " Ⅳ"},
        {" V$",      " Ⅴ"},
        {" III$",    " Ⅲ"},
        {" II$",     " Ⅱ"},
        {" I$",      " Ⅰ"},
    }
    for _, value in ipairs(list) do
        itemName = string.gsub(itemName, value[1], value[2])
    end
    itemName = string.lower(itemName)


    local list2 = {
        -- Dayly
        {"artemisia",           "ajenjo"},  -- "7949764","0","44934","xxxxxxxx","Consigue ajenjo.".
        {"seta de diablillo",   "setas de diablillo"},

        {"esencia de reduccion de (.*)",       "esencia reduccion de %1"},
        {"reducciona de (.*) panacea de",      "panacea de reduccion de %1"},
        {"(.*) panacea de",                    "panacea de %1"},
        {"reduccion de (.*) elixir de",        "elixir de reduccion de %1"},
        {"(.*) elixir de",                     "elixir de %1"},
        {"reducciona de (.*) pocion de",       "pocion reduccion de %1"},
        {"(.*) pocion de",                     "pocion de %1"},
        {"reducciona de (.*) solucion de",     "solucion de reduccion de %1"},
        {"(.*) solucion de",                   "solucion de %1"},
        {"reduccion de (.*) trago de",         "trago de reduccion de %1"},
        {"(.*) trago de",                      "trago de %1"},
        {"reduccion de (.*) sorbo de",         "sorbo de reduccion de %1"},
        {"(.*) sorbo de",                      "sorbo de %1"},
        {"veneno de dano a la salud (.*)",     "veneno de dano de salud %1"},
        {"veneno de dano a la magia (.*)",     "veneno de dano magico %1"},
        {"veneno de dano al aguante (.*)",     "veneno de dano de aguante %1"},
    }
    table.sort(list2, function(valueA, valueB)
        return string.len(valueA[1]) > string.len(valueB[1])
    end)

    for _, value in ipairs(list2) do
        if string.match(itemName, value[1]) then
            local convertedItemName = string.gsub(itemName, value[1], value[2])
            return {itemName, convertedItemName}
        end
    end
    return {itemName}
end

function DailyAlchemy:ConvertedJournalCondition(journalCondition)
    local list = {
        {" ",  " "},   -- code(0xA0) > space(0x20): HTML non-breaking space ?("0xC2 0xA0")
        {"%-", " "},
        {"á",  "a"},
        {"é",  "e"},
        {"ñ",  "n"},
        {"ó",  "o"},
        {" IX([:%s\.])",   " Ⅸ%1"},
        {" VIII([:%s\.])", " Ⅷ%1"},
        {" VII([:%s\.])",  " Ⅶ%1"},
        {" VI([:%s\.])",   " Ⅵ%1"},
        {" IV([:%s\.])",   " Ⅳ%1"},
        {" V([:%s\.])",    " Ⅴ%1"},
        {" III([:%s\.])",  " Ⅲ%1"},
        {" II([:%s\.])",   " Ⅱ%1"},
        {" I([:%s\.])",    " Ⅰ%1"},
    }
    for _, value in ipairs(list) do
        journalCondition = string.gsub(journalCondition, value[1], value[2])
    end
    journalCondition = string.lower(journalCondition)


    local list2 = {
        -- Master Writ
        {".*fabrica un%w? (.*) con .* rasgos:.*%c• (.*)%c• (.*)%c• (.*)%c.*",   "Fabrica |c88AAFF[%1]|r|cFFFFFF...%2, %3, %4|r"},
        {".*fabrica un%w? (.*) con .* propiedades: (.*)\.",                     "Fabrica |c88AAFF[%1]|r|cFFFFFF...%2|r"},

        -- Dayly
        {".*prepara un%w? (.*)\.：.*",     "Prepara |c88AAFF[%1]|r"},
        {".*prepara un%w? (.*)\.:.*",      "Prepara |c88AAFF[%1]|r"},
        {".*prepara un%w? (.*)\.",         "Prepara |c88AAFF[%1]|r"},

        {".*consigue un%w? (.*)\.",        "Consigue |c88AAFF[%1]|r"},
        {".*consigue (.*)\.：.*",          "Consigue |c88AAFF[%1]|r"},
        {".*consigue (.*)\.:.*",           "Consigue |c88AAFF[%1]|r"},
        {".*consigue (.*)\.",              "Consigue |c88AAFF[%1]|r"},
    }
    for _, value in ipairs(list2) do
        if string.match(journalCondition, value[1]) then
            return string.gsub(journalCondition, value[1], value[2])
        end
    end
    return journalCondition
end

function DailyAlchemy:CraftingConditions()
    local list = {
        "Prepara",
        "Fabrica",
    }
    return list
end

function DailyAlchemy:isPoison(conditionText)
    return string.match(conditionText, "veneno")
end

function DailyAlchemy:isAlchemy(journalCondition)
    local list = {
        "Fabrica .* con los siguientes rasgos:.*",  -- SI_MASTER_WRIT_QUEST_ALCHEMY_FORMAT_STRING
        "Los herreros venden este diagrama.*",      -- [es.lang.csv] "7949764","0","61966","xxxxxxxx"
        "Los sastres venden este diseño.*",         -- [es.lang.csv] "7949764","0","61968","xxxxxxxx"
        "Los carpinteros venden este plano.*",      -- [es.lang.csv] "7949764","0","61970","xxxxxxxx"
        "Los carpinteros venden este diagrama.*",   -- [es.lang.csv] "7949764","0","68075","xxxxxxxx"
    }
    return self:Contains(journalCondition, list)
end

